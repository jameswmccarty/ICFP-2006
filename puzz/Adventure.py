#!/usr/bin/python

"""
Utility functions for the Adventure game
"""

text = '(success (command (go (room (name "Junk Room")(description "You are in a room with a pile of junk. A hallway leads south. ")(items ((item (name "bolt")(description "quite useful for securing all sorts of things")(adjectives )(condition (pristine ))(piled_on ((item (name "spring")(description "tightly coiled")(adjectives )(condition (pristine ))(piled_on ((item (name "button")(description "labeled 6")(adjectives )(condition (pristine ))(piled_on ((item (name "processor")(description "from the elusive 19x86 line")(adjectives )(condition (broken (condition (pristine ))(missing ((kind (name "cache")(condition (pristine ))) ))))(piled_on ((item (name "pill")(description "tempting looking")(adjectives ((adjective "red") ))(condition (pristine ))(piled_on ((item (name "radio")(description "a hi-fi AM/FM stereophonic radio")(adjectives )(condition (broken (condition (pristine ))(missing ((kind (name "transistor")(condition (pristine ))) ((kind (name "antenna")(condition (pristine ))) )))))(piled_on ((item (name "cache")(description "fully-associative")(adjectives )(condition (pristine ))(piled_on ((item (name "transistor")(description "PNP-complete")(adjectives ((adjective "blue") ))(condition (pristine ))(piled_on ((item (name "antenna")(description "appropriate for receiving transmissions between 30 kHz and 30 MHz")(adjectives )(condition (pristine ))(piled_on ((item (name "screw")(description "not from a Dutch company")(adjectives )(condition (pristine ))(piled_on ((item (name "motherboard")(description "well-used")(adjectives )(condition (broken (condition (pristine ))(missing ((kind (name "A-1920-IXB")(condition (pristine ))) ((kind (name "screw")(condition (pristine ))) )))))(piled_on ((item (name "A-1920-IXB")(description "an exemplary instance of part number A-1920-IXB")(adjectives )(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "transistor")(condition (pristine ))) ))))(missing ((kind (name "radio")(condition (broken (condition (pristine ))(missing ((kind (name "antenna")(condition (pristine ))) ))))) ((kind (name "processor")(condition (pristine ))) ((kind (name "bolt")(condition (pristine ))) ))))))(piled_on ((item (name "transistor")(description "NPN-complete")(adjectives ((adjective "red") ))(condition (pristine ))(piled_on ((item (name "keypad")(description "labeled \"use me\"")(adjectives )(condition (broken (condition (pristine ))(missing ((kind (name "motherboard")(condition (pristine ))) ((kind (name "button")(condition (pristine ))) )))))(piled_on ((item (name "trash")(description "of absolutely no value")(adjectives )(condition (pristine ))(piled_on )) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))))))'

# gets keypad to exit first room

"""
take  bolt
take  spring
incinerate  spring
take  button
take  processor
take red pill
incinerate red pill
take  radio
take  cache
combine cache processor
take blue transistor
combine transistor radio
take  antenna
incinerate  antenna
take  screw
take  motherboard
combine screw motherboard
take  A-1920-IXB
combine bolt A-1920-IXB
combine processor A-1920-IXB
take red transistor
combine radio A-1920-IXB
combine transistor A-1920-IXB
take  keypad
combine button keypad
combine A-1920-IXB motherboard
take  trash
incinerate  trash
combine motherboard keypad
"""

#text = '(success (command (go (room (name "54th Street and Dorchester Avenue")(description "You are standing at the corner of 54th Street and Dorchester Avenue. From here, you can go north, east, south, or west. ")(items ((item (name "X-9247-GWE")(description "an exemplary instance of part number X-9247-GWE")(adjectives ((adjective "orange-red") ))(condition (pristine ))(piled_on ((item (name "V-0010-XBD")(description "an exemplary instance of part number V-0010-XBD")(adjectives ((adjective "magenta") ))(condition (broken (condition (pristine ))(missing ((kind (name "X-9247-GWE")(condition (pristine ))) ))))(piled_on ((item (name "F-1403-QDS")(description "an exemplary instance of part number F-1403-QDS")(adjectives ((adjective "pumpkin") ))(condition (pristine ))(piled_on ((item (name "P-5065-WQO")(description "an exemplary instance of part number P-5065-WQO")(adjectives ((adjective "heavy") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "T-6678-BTV")(condition (pristine ))) ))))(missing ((kind (name "B-4832-LAL")(condition (pristine ))) ))))(missing ((kind (name "F-1403-QDS")(condition (pristine ))) ))))(piled_on ((item (name "B-4832-LAL")(description "an exemplary instance of part number B-4832-LAL")(adjectives ((adjective "taupe") ))(condition (pristine ))(piled_on ((item (name "L-6458-RNH")(description "an exemplary instance of part number L-6458-RNH")(adjectives ((adjective "gray40") ))(condition (broken (condition (pristine ))(missing ((kind (name "P-5065-WQO")(condition (broken (condition (pristine ))(missing ((kind (name "T-6678-BTV")(condition (pristine ))) ))))) ))))(piled_on ((item (name "T-9887-OFC")(description "an exemplary instance of part number T-9887-OFC")(adjectives ((adjective "eggplant") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "X-6458-TIJ")(condition (pristine ))) ))))(missing ((kind (name "H-9887-MKY")(condition (pristine ))) ))))(piled_on ((item (name "Z-1623-CEK")(description "an exemplary instance of part number Z-1623-CEK")(adjectives ((adjective "indigo") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-4292-HHR")(condition (pristine ))) ))))(missing ((kind (name "L-6458-RNH")(condition (pristine ))) ))))(piled_on ((item (name "H-9887-MKY")(description "an exemplary instance of part number H-9887-MKY")(adjectives ((adjective "yellow-green") ))(condition (pristine ))(piled_on ((item (name "F-6678-DOX")(description "an exemplary instance of part number F-6678-DOX")(adjectives ((adjective "shiny") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "J-9247-IRG")(condition (pristine ))) ))))(missing ((kind (name "V-0010-XBD")(condition (pristine ))) ))))(piled_on ((item (name "R-1403-SXU")(description "an exemplary instance of part number R-1403-SXU")(adjectives ((adjective "pale-green") ))(condition (pristine ))(piled_on ((item (name "USB cable")(description "compatible with all high-speed Universal Sand Bus 2.0 devices")(adjectives )(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "T-9887-OFC")(condition (broken (condition (pristine ))(missing ((kind (name "X-6458-TIJ")(condition (pristine ))) ))))) ))))(missing ((kind (name "F-6678-DOX")(condition (pristine ))) ))))(missing ((kind (name "N-4832-NUN")(condition (pristine ))) ))))(piled_on ((item (name "N-4832-NUN")(description "an exemplary instance of part number N-4832-NUN")(adjectives ((adjective "sienna") ))(condition (pristine ))(piled_on ((item (name "J-9247-IRG")(description "an exemplary instance of part number J-9247-IRG")(adjectives ((adjective "slate-gray") ))(condition (pristine ))(piled_on ((item (name "B-5065-YLQ")(description "an exemplary instance of part number B-5065-YLQ")(adjectives ((adjective "dim-gray") ))(condition (pristine ))(piled_on )) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))))))'

# gets USB cable needed by downloader

"""
take orange-red X-9247-GWE
take magenta V-0010-XBD
combine X-9247-GWE V-0010-XBD
take pumpkin F-1403-QDS
take heavy P-5065-WQO
combine F-1403-QDS P-5065-WQO
take taupe B-4832-LAL
combine B-4832-LAL P-5065-WQO
take gray40 L-6458-RNH
take eggplant T-9887-OFC
take indigo Z-1623-CEK
incinerate indigo Z-1623-CEK
take yellow-green H-9887-MKY
combine H-9887-MKY T-9887-OFC
take shiny F-6678-DOX
combine V-0010-XBD F-6678-DOX
take pale-green R-1403-SXU
incinerate pale-green R-1403-SXU
take  USB cable
take sienna N-4832-NUN
combine N-4832-NUN USB cable
take slate-gray J-9247-IRG
combine J-9247-IRG F-6678-DOX
take dim-gray B-5065-YLQ
incinerate dim-gray B-5065-YLQ
combine F-6678-DOX USB cable
"""

#text = '(success (command (look (room (name "53th Street and Dorchester Avenue")(description "You are standing at the corner of 53th Street and Dorchester Avenue. From here, you can go north, east, or south. ")(items ((item (name "N-1623-AOE")(description "an exemplary instance of part number N-1623-AOE")(adjectives ((adjective "fern-green") ))(condition (pristine ))(piled_on ((item (name "R-4292-FRL")(description "an exemplary instance of part number R-4292-FRL")(adjectives ((adjective "burgundy") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "V-9887-KUS")(condition (pristine ))) ))))(missing ((kind (name "Z-6458-PXZ")(condition (broken (condition (pristine ))(missing ((kind (name "D-5065-UBI")(condition (pristine ))) ))))) ))))(piled_on ((item (name "F-6458-DDN")(description "an exemplary instance of part number F-6458-DDN")(adjectives ((adjective "pale-magenta") ))(condition (broken (condition (pristine ))(missing ((kind (name "J-5065-IGU")(condition (pristine ))) ))))(piled_on ((item (name "H-1623-MYO")(description "an exemplary instance of part number H-1623-MYO")(adjectives ((adjective "peach-yellow") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "L-4292-RCV")(condition (pristine ))) ))))(missing ((kind (name "T-6458-BIL")(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "X-5065-GLS")(condition (pristine ))) ))))(missing ((kind (name "T-5065-OQC")(condition (broken (condition (pristine ))(missing ((kind (name "B-6678-LOZ")(condition (pristine ))) ))))) ))))(missing ((kind (name "F-9247-QRI")(condition (pristine ))) ))))) ((kind (name "P-9887-WFE")(condition (pristine ))) )))))(piled_on ((item (name "H-4292-ZHF")(description "an exemplary instance of part number H-4292-ZHF")(adjectives ((adjective "rotating") ))(condition (broken (condition (pristine ))(missing ((kind (name "J-4832-VUP")(condition (pristine ))) ))))(piled_on ((item (name "R-6458-FXP")(description "an exemplary instance of part number R-6458-FXP")(adjectives ((adjective "low-carb") ))(condition (broken (condition (pristine ))(missing ((kind (name "V-5065-KBW")(condition (pristine ))) ((kind (name "H-1623-MYO")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "L-4292-RCV")(condition (pristine ))) ))))(missing ((kind (name "P-9887-WFE")(condition (pristine ))) ))))) ((kind (name "H-4292-ZHF")(condition (broken (condition (pristine ))(missing ((kind (name "J-4832-VUP")(condition (pristine ))) ))))) ))))))(piled_on ((item (name "T-6458-BIL")(description "an exemplary instance of part number T-6458-BIL")(adjectives ((adjective "mysterious") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "X-5065-GLS")(condition (pristine ))) ))))(missing ((kind (name "T-5065-OQC")(condition (broken (condition (pristine ))(missing ((kind (name "B-6678-LOZ")(condition (pristine ))) ))))) ))))(missing ((kind (name "F-9247-QRI")(condition (pristine ))) ))))(piled_on ((item (name "R-9247-SMK")(description "an exemplary instance of part number R-9247-SMK")(adjectives ((adjective "brass") ))(condition (broken (condition (pristine ))(missing ((kind (name "V-4832-XPR")(condition (pristine ))) ))))(piled_on ((item (name "Z-1403-CSY")(description "an exemplary instance of part number Z-1403-CSY")(adjectives ((adjective "puce") ))(condition (broken (condition (pristine ))(missing ((kind (name "D-0010-HVH")(condition (pristine ))) ))))(piled_on ((item (name "N-6678-NJD")(description "an exemplary instance of part number N-6678-NJD")(adjectives ((adjective "pink") ))(condition (broken (condition (pristine ))(missing ((kind (name "R-9247-SMK")(condition (broken (condition (pristine ))(missing ((kind (name "V-4832-XPR")(condition (pristine ))) ))))) ))))(piled_on ((item (name "X-4292-TWX")(description "an exemplary instance of part number X-4292-TWX")(adjectives ((adjective "jade") ))(condition (broken (condition (pristine ))(missing ((kind (name "N-6678-NJD")(condition (pristine ))) ((kind (name "B-9887-YAG")(condition (pristine ))) )))))(piled_on ((item (name "Z-6678-PEF")(description "an exemplary instance of part number Z-6678-PEF")(adjectives ((adjective "flax") ))(condition (broken (condition (pristine ))(missing ((kind (name "X-4292-TWX")(condition (broken (condition (pristine ))(missing ((kind (name "B-9887-YAG")(condition (pristine ))) ))))) ))))(piled_on ((item (name "H-4832-ZKT")(description "an exemplary instance of part number H-4832-ZKT")(adjectives ((adjective "pale-blue") ))(condition (broken (condition (pristine ))(missing ((kind (name "L-1403-ENC")(condition (pristine ))) ))))(piled_on ((item (name "P-0010-JQJ")(description "an exemplary instance of part number P-0010-JQJ")(adjectives ((adjective "gray60") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "P-9247-WCO")(condition (pristine ))) ))))(missing ((kind (name "T-1623-OTQ")(condition (pristine ))) ))))(piled_on ((item (name "J-1403-IDG")(description "an exemplary instance of part number J-1403-IDG")(adjectives ((adjective "olive-green") ))(condition (broken (condition (pristine ))(missing ((kind (name "H-4832-ZKT")(condition (broken (condition (pristine ))(missing ((kind (name "L-1403-ENC")(condition (pristine ))) ))))) ))))(piled_on ((item (name "D-9247-UHM")(description "an exemplary instance of part number D-9247-UHM")(adjectives ((adjective "swamp-green") ))(condition (pristine ))(piled_on ((item (name "N-6458-NDX")(description "an exemplary instance of part number N-6458-NDX")(adjectives ((adjective "khaki") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "L-6678-RYH")(condition (pristine ))) ))))(missing ((kind (name "Z-6678-PEF")(condition (pristine ))) ((kind (name "J-1403-IDG")(condition (pristine ))) ((kind (name "P-9247-WCO")(condition (pristine ))) ))))))(piled_on ((item (name "V-9887-KUS")(description "an exemplary instance of part number V-9887-KUS")(adjectives ((adjective "red-violet") ))(condition (broken (condition (pristine ))(missing ((kind (name "R-6458-FXP")(condition (broken (condition (pristine ))(missing ((kind (name "V-5065-KBW")(condition (pristine ))) ))))) ((kind (name "T-4832-BFV")(condition (pristine ))) ((kind (name "H-6678-ZEP")(condition (broken (condition (pristine ))(missing ((kind (name "V-9887-KUS")(condition (pristine ))) ))))) ))))))(piled_on ((item (name "N-0010-NGN")(description "an exemplary instance of part number N-0010-NGN")(adjectives ((adjective "tea-green") ))(condition (broken (condition (pristine ))(missing ((kind (name "N-6458-NDX")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "L-6678-RYH")(condition (pristine ))) ))))(missing ((kind (name "P-9247-WCO")(condition (pristine ))) ))))) ((kind (name "R-1623-SJU")(condition (pristine ))) )))))(piled_on ((item (name "X-1403-GIE")(description "an exemplary instance of part number X-1403-GIE")(adjectives ((adjective "cinnamon") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "B-0010-LLL")(condition (pristine ))) ))))(missing ((kind (name "F-1623-QOS")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "J-4292-VRZ")(condition (pristine ))) ))))(missing ((kind (name "N-9887-AUI")(condition (pristine ))) ))))) ))))(piled_on ((item (name "T-4832-BFV")(description "an exemplary instance of part number T-4832-BFV")(adjectives ((adjective "gray20") ))(condition (pristine ))(piled_on ((item (name "D-6458-HSR")(description "an exemplary instance of part number D-6458-HSR")(adjectives ((adjective "beige") ))(condition (broken (condition (pristine ))(missing ((kind (name "H-5065-MVY")(condition (pristine ))) ))))(piled_on ((item (name "F-4832-DAX")(description "an exemplary instance of part number F-4832-DAX")(adjectives ((adjective "ghost-white") ))(condition (broken (condition (pristine ))(missing ((kind (name "J-1403-IDG")(condition (pristine ))) ((kind (name "D-6458-HSR")(condition (broken (condition (pristine ))(missing ((kind (name "H-5065-MVY")(condition (pristine ))) ))))) ((kind (name "V-4292-XMD")(condition (broken (condition (pristine ))(missing ((kind (name "Z-9887-CPK")(condition (pristine ))) ))))) ((kind (name "N-0010-NGN")(condition (broken (condition (pristine ))(missing ((kind (name "R-1623-SJU")(condition (pristine ))) ))))) )))))))(piled_on ((item (name "V-4292-XMD")(description "an exemplary instance of part number V-4292-XMD")(adjectives ((adjective "olive-green") ))(condition (broken (condition (pristine ))(missing ((kind (name "Z-9887-CPK")(condition (pristine ))) ))))(piled_on ((item (name "H-4292-ZHF")(description "an exemplary instance of part number H-4292-ZHF")(adjectives ((adjective "light-brown") ))(condition (broken (condition (pristine ))(missing ((kind (name "L-9887-EKM")(condition (pristine ))) ))))(piled_on ((item (name "X-6678-TTJ")(description "an exemplary instance of part number X-6678-TTJ")(adjectives ((adjective "lawn-green") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "B-9247-YWQ")(condition (pristine ))) ))))(missing ((kind (name "X-9887-GFO")(condition (pristine ))) ((kind (name "F-4832-DAX")(condition (broken (condition (pristine ))(missing ((kind (name "J-1403-IDG")(condition (pristine ))) ))))) )))))(piled_on ((item (name "T-4292-BCH")(description "an exemplary instance of part number T-4292-BCH")(adjectives ((adjective "aquamarine") ))(condition (broken (condition (pristine ))(missing ((kind (name "X-9887-GFO")(condition (pristine ))) ((kind (name "X-6678-TTJ")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "B-9247-YWQ")(condition (pristine ))) ))))(missing ((kind (name "X-9887-GFO")(condition (pristine ))) ))))) )))))(piled_on ((item (name "P-6458-JNT")(description "an exemplary instance of part number P-6458-JNT")(adjectives ((adjective "maroon") ))(condition (broken (condition (pristine ))(missing ((kind (name "T-5065-OQC")(condition (pristine ))) ))))(piled_on ((item (name "Z-0010-PBP")(description "an exemplary instance of part number Z-0010-PBP")(adjectives ((adjective "rust") ))(condition (broken (condition (pristine ))(missing ((kind (name "D-1623-UEW")(condition (pristine ))) ((kind (name "H-4292-ZHF")(condition (broken (condition (pristine ))(missing ((kind (name "L-9887-EKM")(condition (pristine ))) ))))) )))))(piled_on ((item (name "F-5065-QLE")(description "an exemplary instance of part number F-5065-QLE")(adjectives ((adjective "cyan") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "J-6678-VOL")(condition (pristine ))) ))))(missing ((kind (name "N-9247-ARS")(condition (pristine ))) ))))(missing ((kind (name "Z-0010-PBP")(condition (broken (condition (pristine ))(missing ((kind (name "D-1623-UEW")(condition (pristine ))) ))))) ((kind (name "R-4832-FUZ")(condition (broken (condition (pristine ))(missing ((kind (name "V-1403-KXI")(condition (pristine ))) ))))) )))))(piled_on ((item (name "V-9887-KUS")(description "an exemplary instance of part number V-9887-KUS")(adjectives ((adjective "lavender-blush") ))(condition (broken (condition (pristine ))(missing ((kind (name "H-1403-MSK")(condition (pristine ))) ))))(piled_on ((item (name "B-6458-LIV")(description "an exemplary instance of part number B-6458-LIV")(adjectives ((adjective "olive-drab") ))(condition (pristine ))(piled_on ((item (name "D-5065-UBI")(description "an exemplary instance of part number D-5065-UBI")(adjectives ((adjective "plum") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "R-5065-SGG")(condition (pristine ))) ))))(missing ((kind (name "V-6678-XJN")(condition (pristine ))) ))))(missing ((kind (name "Z-9247-CMU")(condition (pristine ))) ((kind (name "T-4292-BCH")(condition (broken (condition (pristine ))(missing ((kind (name "X-9887-GFO")(condition (pristine ))) ))))) )))))(piled_on ((item (name "L-9247-EHW")(description "an exemplary instance of part number L-9247-EHW")(adjectives ((adjective "magenta") ))(condition (broken (condition (pristine ))(missing ((kind (name "P-4832-JKF")(condition (broken (condition (pristine ))(missing ((kind (name "T-1403-ONM")(condition (pristine ))) ))))) ((kind (name "D-5065-UBI")(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "R-5065-SGG")(condition (pristine ))) ))))(missing ((kind (name "V-6678-XJN")(condition (pristine ))) ))))(missing ((kind (name "Z-9247-CMU")(condition (pristine ))) ))))) ((kind (name "P-1623-WYY")(condition (pristine ))) ))))))(piled_on ((item (name "P-1623-WYY")(description "an exemplary instance of part number P-1623-WYY")(adjectives ((adjective "ochre") ))(condition (pristine ))(piled_on ((item (name "D-4832-HPD")(description "an exemplary instance of part number D-4832-HPD")(adjectives ((adjective "gray60") ))(condition (broken (condition (pristine ))(missing ((kind (name "H-1403-MSK")(condition (broken (condition (pristine ))(missing ((kind (name "L-0010-RVR")(condition (pristine ))) ))))) ))))(piled_on ((item (name "B-1623-YTC")(description "an exemplary instance of part number B-1623-YTC")(adjectives ((adjective "chestnut") ))(condition (broken (condition (pristine ))(missing ((kind (name "F-4292-DWJ")(condition (pristine ))) ((kind (name "Z-6458-PXZ")(condition (broken (condition (pristine ))(missing ((kind (name "J-9887-IAQ")(condition (pristine ))) ))))) )))))(piled_on ((item (name "Z-6458-PXZ")(description "an exemplary instance of part number Z-6458-PXZ")(adjectives ((adjective "rust") ))(condition (broken (condition (pristine ))(missing ((kind (name "N-6458-NDX")(condition (pristine ))) ))))(piled_on ((item (name "Z-6458-PXZ")(description "an exemplary instance of part number Z-6458-PXZ")(adjectives ((adjective "robin-egg-blue") ))(condition (broken (condition (pristine ))(missing ((kind (name "J-9887-IAQ")(condition (pristine ))) ))))(piled_on ((item (name "display")(description "a handheld device for showing textual data")(adjectives )(condition (broken (condition (pristine ))(missing ((kind (name "L-9247-EHW")(condition (broken (condition (pristine ))(missing ((kind (name "P-4832-JKF")(condition (broken (condition (pristine ))(missing ((kind (name "T-1403-ONM")(condition (pristine ))) ))))) ))))) ((kind (name "B-1623-YTC")(condition (broken (condition (pristine ))(missing ((kind (name "F-4292-DWJ")(condition (pristine ))) ))))) ((kind (name "R-4292-FRL")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "V-9887-KUS")(condition (pristine ))) ))))(missing ((kind (name "Z-6458-PXZ")(condition (broken (condition (pristine ))(missing ((kind (name "D-5065-UBI")(condition (pristine ))) ))))) ))))) ((kind (name "N-1623-AOE")(condition (pristine ))) )))))))(piled_on ((item (name "X-0010-TQT")(description "an exemplary instance of part number X-0010-TQT")(adjectives ((adjective "navajo-white") ))(condition (broken (condition (pristine ))(missing ((kind (name "H-6678-ZEP")(condition (pristine ))) ))))(piled_on )) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))))))'

#text='(success (command (look (room (name "54th Street and Harper Avenue")(description "You are standing at the corner of 54th Street and Harper Avenue. A sign reads, "No access east of Lakeshore Blvd (incl. Museum of Science and Industry) due to construction." From here, you can go north, south, or west. ")(items ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "gray60") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ))))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "pale-carmine") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "pale-cornflower-blue") ))(condition (pristine ))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "imported") ))(condition (pristine ))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "gray90") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ))))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "sepia") ))(condition (pristine ))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "gray30") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ))))))))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "robin-egg-blue") ))(condition (pristine ))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "slate-blue") ))(condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ))))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "rosy-brown") ))(condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ))))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "gray50") ))(condition (pristine ))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "misty-rose") ))(condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ))))(missing ((kind (name "N-9247-AWO")(condition (pristine ))) ))))(missing ((kind (name "N-9247-AWO")(condition (pristine ))) ))))(missing ((kind (name "R-4832-FAV")(condition (broken (condition (pristine ))(missing ((kind (name "N-9247-AWO")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (broken (condition (pristine ))(missing ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "V-1403-KDE")(condition (pristine ))) )))))) )))))) ))))(missing ((kind (name "R-4832-FAV")(condition (broken (condition (pristine ))(missing ((kind (name "N-9247-AWO")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (broken (condition (pristine ))(missing ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "V-1403-KDE")(condition (pristine ))) )))))) )))))) ))))(missing ((kind (name "F-4832-DFT")(condition (broken (condition (pristine ))(missing ((kind (name "T-5065-OVW")(condition (pristine ))) ))))) ((kind (name "Z-0010-PGL")(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ))))(missing ((kind (name "P-6458-JSP")(condition (pristine ))) ((kind (name "D-1623-UJS")(condition (broken (condition (pristine ))(missing ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "Z-0010-PGL")(condition (pristine ))) ((kind (name "T-5065-OVW")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) )))))))) ((kind (name "X-6678-TYF")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))) )))))(missing ((kind (name "B-9247-YCM")(condition (pristine ))) ))))(missing ((kind (name "R-1623-SOQ")(condition (pristine ))) ))))(missing ((kind (name "V-4292-XRX")(condition (pristine ))) ))))(missing ((kind (name "Z-9887-CUG")(condition (pristine ))) ))))(piled_on ((item (name "Z-9887-CUG")(description "an exemplary instance of part number Z-9887-CUG")(adjectives ((adjective "cinnamon") ))(condition (pristine ))(piled_on ((item (name "N-9247-AWO")(description "an exemplary instance of part number N-9247-AWO")(adjectives ((adjective "saffron") ))(condition (broken (condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ))))(missing ((kind (name "B-9247-YCM")(condition (pristine ))) ))))(missing ((kind (name "R-1623-SOQ")(condition (pristine ))) ))))(missing ((kind (name "V-4292-XRX")(condition (pristine ))) ))))(piled_on ((item (name "V-4292-XRX")(description "an exemplary instance of part number V-4292-XRX")(adjectives ((adjective "indigo") ))(condition (broken (condition (pristine ))(missing ((kind (name "Z-0010-PGL")(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ))))(missing ((kind (name "P-6458-JSP")(condition (pristine ))) ((kind (name "D-1623-UJS")(condition (broken (condition (pristine ))(missing ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "Z-0010-PGL")(condition (pristine ))) ((kind (name "T-5065-OVW")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) )))))))) ((kind (name "X-6678-TYF")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))) ))))(piled_on ((item (name "R-4832-FAV")(description "an exemplary instance of part number R-4832-FAV")(adjectives ((adjective "pale-sandy-brown") ))(condition (pristine ))(piled_on ((item (name "Z-0010-PGL")(description "an exemplary instance of part number Z-0010-PGL")(adjectives ((adjective "momemtum-preserving") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ))))(missing ((kind (name "P-6458-JSP")(condition (pristine ))) ((kind (name "D-1623-UJS")(condition (broken (condition (pristine ))(missing ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "Z-0010-PGL")(condition (pristine ))) ((kind (name "T-5065-OVW")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) )))))))) ((kind (name "X-6678-TYF")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(piled_on ((item (name "V-4292-XRX")(description "an exemplary instance of part number V-4292-XRX")(adjectives ((adjective "swamp-green") ))(condition (pristine ))(piled_on ((item (name "R-1623-SOQ")(description "an exemplary instance of part number R-1623-SOQ")(adjectives ((adjective "pale-pink") ))(condition (pristine ))(piled_on ((item (name "R-1623-SOQ")(description "an exemplary instance of part number R-1623-SOQ")(adjectives ((adjective "cream") ))(condition (pristine ))(piled_on ((item (name "B-9247-YCM")(description "an exemplary instance of part number B-9247-YCM")(adjectives ((adjective "royal-blue") ))(condition (pristine ))(piled_on ((item (name "J-1403-IIC")(description "an exemplary instance of part number J-1403-IIC")(adjectives ((adjective "burgundy") ))(condition (broken (condition (pristine ))(missing ((kind (name "N-0010-NLJ")(condition (pristine ))) ))))(piled_on ((item (name "Z-0010-PGL")(description "an exemplary instance of part number Z-0010-PGL")(adjectives ((adjective "blue") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ))))(missing ((kind (name "P-6458-JSP")(condition (pristine ))) ((kind (name "D-1623-UJS")(condition (broken (condition (pristine ))(missing ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "Z-0010-PGL")(condition (pristine ))) ((kind (name "T-5065-OVW")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) )))))))) ((kind (name "X-6678-TYF")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(piled_on ((item (name "Z-0010-PGL")(description "an exemplary instance of part number Z-0010-PGL")(adjectives ((adjective "pink") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(missing ((kind (name "D-1623-UJS")(condition (pristine ))) ))))(missing ((kind (name "P-6458-JSP")(condition (pristine ))) ((kind (name "D-1623-UJS")(condition (broken (condition (pristine ))(missing ((kind (name "H-4292-ZMZ")(condition (pristine ))) ((kind (name "Z-0010-PGL")(condition (pristine ))) ((kind (name "T-5065-OVW")(condition (pristine ))) ((kind (name "R-4832-FAV")(condition (pristine ))) )))))))) ((kind (name "X-6678-TYF")(condition (pristine ))) ((kind (name "L-9887-EPI")(condition (pristine ))) )))))))(piled_on ((item (name "F-4832-DFT")(description "an exemplary instance of part number F-4832-DFT")(adjectives ((adjective "moss-green") ))(condition (broken (condition (pristine ))(missing ((kind (name "T-5065-OVW")(condition (pristine ))) ))))(piled_on ((item (name "B-9247-YCM")(description "an exemplary instance of part number B-9247-YCM")(adjectives ((adjective "pine-green") ))(condition (pristine ))(piled_on ((item (name "R-4832-FAV")(description "an exemplary instance of part number R-4832-FAV")(adjectives ((adjective "floating") ))(condition (broken (condition (pristine ))(missing ((kind (name "N-9247-AWO")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (broken (condition (pristine ))(missing ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "V-1403-KDE")(condition (pristine ))) )))))) )))))(piled_on ((item (name "R-4832-FAV")(description "an exemplary instance of part number R-4832-FAV")(adjectives ((adjective "russet") ))(condition (broken (condition (pristine ))(missing ((kind (name "N-9247-AWO")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (broken (condition (pristine ))(missing ((kind (name "R-4832-FAV")(condition (pristine ))) ((kind (name "V-1403-KDE")(condition (pristine ))) )))))) )))))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "lavender-blush") ))(condition (pristine ))(piled_on ((item (name "N-9247-AWO")(description "an exemplary instance of part number N-9247-AWO")(adjectives ((adjective "old-gold") ))(condition (pristine ))(piled_on ((item (name "N-9247-AWO")(description "an exemplary instance of part number N-9247-AWO")(adjectives ((adjective "pear") ))(condition (broken (condition (pristine ))(missing ((kind (name "N-9247-AWO")(condition (pristine ))) ))))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "pastel-pink") ))(condition (pristine ))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "heliotrope") ))(condition (pristine ))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "persian-blue") ))(condition (pristine ))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "emerald") ))(condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ))))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "violet-red") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(piled_on ((item (name "Z-4292-PRV")(description "an exemplary instance of part number Z-4292-PRV")(adjectives ((adjective "blaze-orange") ))(condition (broken (condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "Z-4292-PRV")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))) ))))(piled_on ((item (name "RS232 adapter")(description "capable of operating at speeds as high as 300 baud. It is clear to send")(adjectives )(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))(missing ((kind (name "D-9887-UUE")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))) ((kind (name "Z-4292-PRV")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))) ((kind (name "Z-4292-PRV")(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))(missing ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ((kind (name "D-9887-UUE")(condition (pristine ))) ))))))) ))))))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "jade") ))(condition (pristine ))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "steel-blue") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(piled_on ((item (name "D-9887-UUE")(description "an exemplary instance of part number D-9887-UUE")(adjectives ((adjective "persian-blue") ))(condition (broken (condition (broken (condition (pristine ))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(missing ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) ((kind (name "Z-4292-PRV")(condition (pristine ))) )))))))(piled_on )) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))) ))))))'

class Node:

	def __init__(self, name):
		self.name = name
		self.adjectives = []
		self.needs = []

capacity = 6 # default 6
holding = []
stack = []
keeps = []

# strip extra parens
def isolate(statement):
	if statement[0] != '(':
		print("Entry must be start of a parenthetical statement.")
		return None
	count=0
	for idx, char in enumerate(statement):
		if char == '(':
			count += 1
		elif char == ')':
			count -= 1
		if count == 0:
			return statement[0:idx+1]
	return None

def isolate_clauses(statement):
	if statement[0] != '(':
		print("Entry must be start of a parenthetical statement.")
		return None
	idx = 1
	subs = []
	while idx < len(statement):
		while idx < len(statement) and statement[idx] != '(':
			idx += 1
		if idx < len(statement) and statement[idx] == '(':
			sub = isolate(statement[idx:])
			if sub != None:
				if "(piled_on" != sub[0:9]:
					subs.append(sub)
				idx+=len(sub)
	return subs

def find_clause(statement, clause):
	while len(statement) > len(clause)+1:
		if statement[0:len(clause)+1] == "("+clause:
			return isolate(statement)
		statement = statement[1:]
	return None

def items_stack(text):
	items_list = find_clause(text, "items")
	if items_list == None:
		return
	items_list = items_list[5:-1]
	while items_list != None:
		items_list = find_clause(items_list, "item")
		if items_list != None:
			found = find_clause(items_list, "name")
			if found != None:
				print(found)
				for item in isolate_clauses(items_list):
					print('\t', item)
			items_list = items_list[5:]

def build_string(clauses):
	out = ''.join(clauses)
	save = ''
	saving = False
	for char in out:
		if char == '"':
			saving ^= True
			save += ' '
		if saving and char != '"':
			save += char
	return save.strip()

def build_stack(text):
	items_list = find_clause(text, "items")
	if items_list == None:
		return
	items_list = items_list[5:-1]
	while items_list != None:
		items_list = find_clause(items_list, "item")
		if items_list != None:
			found = find_clause(items_list, "name")
			if found != None:
				#print(found)
				node = Node(found[5:-1].strip().replace('"',''))
				for item in isolate_clauses(items_list):
					if item[0:11] == "(adjectives":
						node.adjectives = build_string(isolate_clauses(item))
					elif item[0:10] == "(condition":
						node.needs = build_string(isolate_clauses(item)).split('  ')[::-1]
				stack.append(node)
			items_list = items_list[5:]

#print(items_stack(text))
#print(isolate_clauses(find_clause(text, "items")))
build_stack(text)
#for item in stack:
#	print(item.name, item.adjectives, item.needs)


reqs = []
for item in stack:
	if item.needs != ['']:
		reqs += item.needs
reqs.remove('antenna')
reqs.remove('antenna')
for item in stack:
	if 'antenna' in item.needs:
		item.needs.remove('antenna')

#for item in stack:
#	print(item.name)
#	print(item.needs)


keeps.append('keypad')
#keeps.append('USB cable')
#keeps.append('RS232 adapter')

while len(stack) > 0:
	if len(holding) < capacity:
		if len(stack)>0:
			holding.append(stack.pop(0))
			print("take "+holding[-1].adjectives+' '+holding[-1].name)
		if holding[-1].name not in reqs and holding[-1].name not in keeps:
			print("incinerate "+holding[-1].adjectives+' '+holding[-1].name)
			holding.pop(-1)
	for item1 in holding:
		for item2 in holding:
			if item1 != item2 and len(item2.needs) > 0 and item1.name in item2.needs and (item1.needs==[''] or len(item1.needs)==0):
				print("combine "+item1.name+' '+item2.name)
				item2.needs.remove(item1.name)
				reqs.remove(item1.name)
				holding.remove(item1)
				break
